# .github/workflows/lint.yml

name: Lint # name of the action (displayed in the github interface)

on: # event list
  pull_request: # on a pull request to each of these branches
    branches:
      - main

jobs: # list of things to do
  linting:
    name: Linting # job name (unique id)
    runs-on: ubuntu-latest # on which machine to run
    steps: # list of steps to run

      - name: Code Checkout
        uses: actions/checkout@v2

      - name: Prepare Ansible
        run: pip3 install --upgrade pip ansible ansible-lint

      - name: Install geerlingguy.docker
        run: ansible-galaxy install geerlingguy.docker

      - name: Code Linting
        run: ansible-lint deploy.yml